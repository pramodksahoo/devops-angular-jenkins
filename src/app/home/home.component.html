<div id="main-container" class="container-fluid p-0">
  <app-nav></app-nav>
  <div class="row m-0" id="body-row">

 <app-sidebar></app-sidebar>



    <div id="contents" class="col justify-content-center m-2" style=" display: table-cell;vertical-align: middle;" valign="middle">
      <div class="d-flex justify-content-between mt-1">
        <h5 style="color: #d50000;">Profile Details</h5>
        <a data-toggle="modal" data-target="#change-password-modal" style="color: #d50000;">CHANGE PASSWORD</a>
  <!-- Modal -->
        <div class="modal fade" id="change-password-modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
                        <div class="modal-dialog modal-dialog-centered" role="document">
                          <div class="modal-content">
                            <div class="modal-header">
                              <h5 class="modal-title" id="exampleModalLongTitle">Create New Group</h5>
                              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                              </button>
                            </div>
                            <div class="modal-body">
                              <div class=" form-group p-5">
                                <input type="password" class="form-control ml-2" id="password1" placeholder="Enter Password">

                                <input type="password" class="form-control ml-2" id="password2" placeholder="Confirm Password">
                                </div>

                            </div>
                            <div class="modal-footer">
                              <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                              <button type="button" class="btn btn-secondary" data-dismiss="modal">Change</button>
                            </div>
                          </div>
                        </div>
                      </div>
      </div>

      <div class="custom-scroll-2" style="overflow-y:scroll;overflow-x:wrap;height:80vh;margin-top:0;box-shadow: 2px 2px 10px 1px #e2e2e2;">
        <div class="row d-flex  align-content-center flex-wrap" style="width:100%;">
        <div class="col" >

         <div class="align-self-center ml-4 m-1 mt-0 mr-4">
           <div class="row"style="">
             <div class="col-sm-12 col-md-4 col-lg-4 m-2 pt-1" style="margin-top:0!important;margin-right:0!important;margin-left:0!important;padding-right:0!important;padding-left:0!important;">
                <div class="d-flex justify-content-center" style="width:100%;">
                  <img class=" align-self-center" style="width:200px!important; height:200px!important; border-radius: 50%" src="{{employee.profile_picture}}" >

                </div>
              <div class=""  align="center">
               <div class="">
                 <div class="">
                  <label class=""><strong>{{employee.first_name}} {{employee.last_name}}</strong></label>
                 <div class="">
                  <label class="ml-2" style="color: #d50000;">Employee</label>
                </div></div>
                </div>
                <div class="">
                  <label class="">Email </label>
                  <label class="ml-2">{{employee.email}}</label>
                </div>
                <div class="" >
                  <label class=" ">Employee Id </label>
                  <label class="ml-2">{{employee.emp_id}}</label>
                </div>
              </div>

             </div>


             <div class="col-md-8 col-lg-8 col-sm-12 " style="">
               <form #editProfileForm="ngForm">
              <div class="pl-3" style="border-left:1px solid #8080803b;">
                <div class="d-flex justify-content-between mt-4 mb-2">
                  <label class="label " style="color: #d50000;">Personal Information</label>
                <a class="pr-4" *ngIf="!isEditProfileDetails" (click) = toggleEditProfile() style="right"><i class="fa fa-edit" aria-hidden="true"></i></a>
                  <div  *ngIf="isEditProfileDetails" class=" my-save-conf my-save-conf-collapse" id="edit-conf-save" >
                          <button (click) = toggleEditProfile()  type="button" class="ml-2 btn"   name="cancel" >CANCEL</button>
                        <input class="btn btn-danger ml-2" (click)="editProfileSubmit(editProfileForm.value)"  type="submit" name="saveurl" value="SAVE">
                       </div>
                </div>

                <div class="d-flex">
                  <div class="form-group mr-5">
                    <label for="first_name">First Name</label>
                    <input [(ngModel)]="employee.first_name" name="first_name" [disabled]="!isEditProfileDetails" type="text" class="form-control" id="first_name" >
                  </div>
                  <div class="form-group">
                    <label for="last_name">Last Name</label>
                    <input [(ngModel)]="employee.last_name" name="last_name" [disabled]="!isEditProfileDetails" type="text" class="form-control" id="last_name" value="{{employee.last_name}}">
                  </div>
                  </div>
                <div class="d-flex">
                  <div class="form-group mr-5">
                    <label for="email">Email Address</label>
                    <input [(ngModel)]="employee.email" name="email" disabled type="text" class="form-control" id="email"  value="{{employee.email }}">
                  </div>
                  <div class="form-group">
                    <label for="phone">Phone Number</label>
                    <input [(ngModel)]="employee.phone" name="phone" [disabled]="!isEditProfileDetails" type="text" class="form-control" id="phone" value="{{employee.phone}}">
                  </div>
                  </div>
                <div class="d-flex">
                  <div class="form-group mr-5">
                    <label for="emp-id">Employee Id</label>
                    <input [(ngModel)]="employee.emp_id" name="emp_id" type="text" class="form-control" id="emp-id"  value="{{employee.emp_id }}">
                  </div>
                  <div class="form-group">
                    <label for="emp-desig">Employee Designation</label>
                    <input [(ngModel)]="employee.emp_desig" name="emp_desig" type="text" class="form-control" id="emp-desig" value="{{employee.emp_desig}}">
                  </div>
                  </div>


              </div>
              </form>
             </div>
           </div>
         </div>


        </div>

      </div>
        <div class="row d-flex  align-content-center flex-wrap" style="width:100%;">
          <div class="col ">
          <div class="pl-3" style="background-color: #dddddd;">
                <div class="mt-4">
                <label class="label mb-2" style="color: #d50000;">Credentials</label>

                </div>
                <div class="pl-3" style="background-color: #dddddd;">


                  <ul class="list-group user-group-list" style="background-color: #dddddd;">

                  <li style="padding-left:0px!important;background-color: #dddddd;" class="list-group-item align-middle"  *ngFor="let credential of credentials; let i = index">
                    <form [attr.id]="'form-'+i" name="'form-'+i">
                    <div class="">
                      <span class="d-flex justify-content-between" style="color: green">
                        <div class="d-flex">
                          <img height="25px" width="25px" src="../assets/{{credential.app_name }}.png">
                    <label for="username-{{i}}" class="col" style="margin-bottom:0px!important;font-size: 15px;">{{credential.app_name | titlecase }}</label>
                        </div>
                      <a *ngIf="!isEditCred" (click) = "toggleEditCred()" class="pr-4"  style=""><i class="fa fa-edit" aria-hidden="true"></i></a>
                        <div  *ngIf="isEditCred" class=" my-save-conf my-save-conf-collapse" >
                          <button (click) = "toggleEditCred()"  type="button" class="ml-2 btn"   name="cancel" >CANCEL</button>
                        <input class="btn btn-danger ml-2" (click)="credSubmit(credential)"  type="submit" name="saveurl" value="SAVE">
                       </div>
                      </span>

                    <div class="d-flex mt-2 justify-content-start">
                      <div class="form-group mr-5 mt-2">
                      <label for="username-{{i}}" class="" style="margin-bottom:0px!important;font-size: 15px;">Username</label>
                        <input hidden type="text" [(ngModel)]="credential.app_name" name="devopsName">
                      <input [disabled]="!isEditCred"  type="text" class="form-control" id="username-{{i}}" name="username-{{i}}" [(ngModel)]="credential.username">
                        </div>
                      <div class="form-group mr-5 ml-5">
                      <label  class="" style="margin-top:0px!important;font-size: 15px;">Password</label>
                      <input [disabled]="!isEditCred" type="password" class="form-control" id="password-{{i}}" name="password-{{i}}" [(ngModel)]="credential.password" >
                         </div>
                    </div>

                    </div>
                    </form>
                  </li>
                  </ul>

                </div>
              </div>
              <div *ngIf="!isAdmin" class="pl-3">
                <div class="mt-4">
                <label class="label">Associated Groups</label>

                </div>
                <div class="">
                  <ul class="list-group user-group-list">
                  <li class="list-group-item pl-5 align-middle"  *ngFor="let group of user_groups; let i = index">
                    <div class="d-flex">
                      <span class="" style="color: green">

                    <i class="fa fa-circle-o" aria-hidden="true"></i>
                      </span>

                    <div class="col">
                      <label class="col" style="margin-bottom:0px!important;font-size: 15px;">{{group | titlecase }}</label>
                      <label class="col" style="margin-top:0px!important;font-size: 10px;">Members {{group}}</label>
                    </div>

                    </div>
                  </li>
                  </ul>

                </div>
              </div>


          </div>
        </div>
      </div>

    </div>
  </div>
</div>
